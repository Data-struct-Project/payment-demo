<!DOCTYPE html>
<html>
<head>
    <title>Ticket Concert</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="payment.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
            crossorigin="anonymous"></script>
    <script>
        document.getElementById("submit").addEventListener("click", function (event) {
            event.preventDefault();

            checkData();
        });

        var full_name = document.getElementById("full_name");
        var email = document.getElementById("email");
        var phone_number = document.getElementById("phone_number");
        var slip = document.getElementById("slip");

        function checkData() {
            var full_nameValue = full_name.value.trim();
            var emailValue = email.value.trim();
            var phone_numberValue = phone_number.value.trim();
            var slipValue = slip.value.trim();

            if (full_nameValue == "") {
                setError(full_name, "Full name can't be blank");
            } else {
                setSuccess(full_name);
            }

            if (emailValue == "") {
                setError(email, "Email can't be blank");
            }
            else {
                setSuccess(email);
            }

            if (phone_numberValue == "") {
                setError(phone_number, "Phone number can't be blank");
            } else {
                setSuccess(phone_number);
            }


            if (slipValue == "") {
                setError(slip, "Slip can't be blank");
            }
            else {
                setSuccess(slip);
            }


        }

        function setError(u, msg) {
            var parentBox = u.parentElement;
            parentBox.className = "input-field error";
            var span = parentBox.querySelector("span");
            var fa = parentBox.querySelector(".fa");
            span.innerText = msg;
            fa.className = "fa fa-exclamation-circle";
        }

        function setSuccess(u) {
            $.ajax({
                url: 'https://api.apispreadsheets.com/data/20462/',
                type: 'post',
                data: $("#myForm").serializeArray(),
                success: function () {
                    alert("Form Data Submitted :)")
                },
                error: function () {
                    alert("There was an error :(")
                }
            });
        }
    </script>
</head>
<body>
    <!--Navbar ข้างบน-->
    <section>
        <div class="w3-top">
            <!--เวลาเลื่อนลงแถบจะตามตลอด-->
            <div class="w3-bar w3-wide w3-padding">
                <a href="#home" class="w3-bar-item w3-button w3-hover-none w3-text-white w3-hover-text-white"><b>Ticket</b>Concert</a>

                <div class="w3-right w3-hide-small">
                    <a href="#home" class="w3-bar-item w3-button w3-hover-none w3-text-white w3-hover-text-blue">Home</a>
                    <a href="#howto" class="w3-bar-item w3-button w3-hover-none w3-text-white w3-hover-text-blue">How to</a>
                    <a href="#contact" class="w3-bar-item w3-button w3-hover-none w3-text-white w3-hover-text-blue">Contact</a>
                </div>
            </div>
        </div>
        <!--Navbar ข้างบน-->
        <div class="container">
            <div class="form-box">
                <form id="myForm">
                    <div class="form-group">
                        <label for="full_name"></label>
                        <input type="text" id="full_name" name="full_name" placeholder="Full Name">
                        <i class="fa fa-check-circle" aria-hidden="true"></i>
                        <!--<i class="fa fa-exclamation-circle" aria-hidden="true"></i>-->
                        <span>error msg</span>
                    </div>

                    <div class="form-group">
                        <label for="email"></label>
                        <input type="text" id="email" name="email" placeholder="Email">
                        <i class="fa " aria-hidden="true"></i>
                        <span></span>
                    </div>

                    <div class="form-group">
                        <label for="phone_number"></label>
                        <input type="text" id="phone_number" name="phone_number" placeholder="Phone Number">
                        <i class="fa " aria-hidden="true"></i>
                        <span></span>
                    </div>

                    <div class="form-group">
                        <label for="slip"></label>
                        <input type="url" id="slip" name="slip" placeholder="Link Slip" />
                        <i class="fa " aria-hidden="true"></i>
                        <span></span>
                    </div>

                </form>
                <input type="submit" id="submit"></input>
                <div id="status"></div>
            </div>
        </div>
    </section>

</body>
</html>
